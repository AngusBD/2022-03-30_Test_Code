<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #table1{
            font-family: arial, sans-serif;
            border-collapse: collapse;
        }
        
        td,th {
            border: 1px solid #cccccc;
            text-align: left;
            padding: 6px;
        }

        tr:nth-child(odd) {
            background-color: #e0e0e0;
        }

        tr:nth-child(even) {
            background-color: #ffffff;
        }

        th {
            background-color: black;
            color: white;
        }
    </style>
</head>
<body>
    <h5>Grades Table - B1</h5>
    <div id="content"></div>
    <script>
        const studentGrades = [
        ["B1001714", 75, "W", 80, 85, 80, 70, 60, 95],
        ["B1001752", 65, 80, 70, "W", 90, "", 70, 95],
        ["B1001760", "W", 90, 55, 55, 80, 75, 85, 95],
        ["B1001770", 65, 75, 60, "W", "W", "", 55, 95],
        ["B1001725", 70, "", 95, "", 80, "W", 85, 90],
        ["B1001778", 95, 95, 90, 85, 80, "", 85, 90],
        ["B1001793", 95, 65, 55, "", 65, "", "", 90],
        ["B1001799", "W", 65, 60, 60, 55, 80, 85, 85],
        ["B1001755", 70, 90, 90, "W", 65, 95, "W", 80],
        ["B1001721", 85, "", 55, 85, 70, 90, 55, 75],
        ["B1001728", 95, 95, 90, 85, 80, 85, 90, "W"],
        ["B1001735", 65, 70, "", 85, "W", 95, 75, 80],
        ["B1001743", 55, "W", 80, 60, 80, 80, "W", 75],
        ["B1001782", 80, 55, 80, 80, "", 70, 60, 70],
        ["B1001784", 55, "W", 95, 60, "", 65, 65, 70],
        ["B1001789", 95, 55, 90, 80, 55, 90, "W", 70],
        ["B1001773", 65, 60, 65, 55, 75, "W", 60, 60],
        ["B1001732", 65, 60, 65, "", 80, 75, "W", ""],
        ["B1001733", 95, 60, 75, "", 85, "W", 70, ""],
        ["B1001736", 80, 90, 85, "", 75, 95, 70, "W"],
        ["B1001740", 75, 65, 75, 95, 65, "", 60, "W"],
        ["B1001771", 65, 90, 60, "W", "W", 75, 75, 75],
        ["B1001769", "W", 95, "W", 90, 80, 80, "", 65],
        ["B1001741", 65, 55, "", 85, 95, 75, 60, 60],
        ["B1001759", 85, 70, 70, 65, "W", 70, 75, 60],
        ["B1001774", 95, 70, 60, 75, "", 75, "", 60],
        ["B1001795", "W", 75, 95, 85, "", 80, 85, 60],
        ["B1001756", 90, "", 65, 65, "", 85, "W", 55],
        ["B1001754", 65, 80, 95, 75, 75, 75, 95, ""],
        ["B1001781", 80, "W", 70, 90, 80, 85, "W", ""],
    ];
    
    var credits = [3, 3, 3, 3, 3, 2, 2, 2];
    display(studentGrades);
    function display(tableData){
        
        var htmlStr = '<table id = "table1">\n<tabody>\n';
        htmlStr += "<tr>\n<th>" + "student ID" + "</th>\n";
        for(var i = 1; i < 9; i++){
            htmlStr += "<th>" + "Course " + (i) + "</th>\n";
        }
        htmlStr += "<th>" + "Average" + "</th>\n";
        htmlStr += "</tr>\n";
        for(var i = 0; i < tableData.length; i++){
            var count = 0;
            var sum = 0;
            for(var j = 0; j < tableData[i].length; j++){
                if(typeof(tableData[i][j])== "number"){
                    count += 1;
                    sum += tableData[i][j];
                }
            }
            tableData[i].push((sum/count).toFixed(2));
        }
        tableData.sort((a, b) =>
            (b[9] < a[9]) ? 1 : (b[9] == a[9]) ? (a[0] > b[0] ? 1 : -1) : -1
        );

        for(var i = 0; i < tableData.length; i++){
            htmlStr += "<tr>\n"
            for(var j = 0; j < tableData[i].length; j++){
                htmlStr += "<td>" + tableData[i][j] + "</td>\n";
            }
            htmlStr += "</tr>\n"
        }
        htmlStr += "</tbody>\n</table>\n";
        document.getElementById("content").innerHTML = htmlStr;
    }
</script>
</body>

</html>
